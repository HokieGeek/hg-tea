<div class="container-fluid h-100" *ngIf="teas.length > 0">
    <div class="row h-100">
        <aside class="col-sm-3 h-100 px-0 collapse-sm">
            <hg-tealist [stockedTeas]="stockedTeas"
                        [noLongerStockedTeas]="noLongerStockedTeas"
                        (selected)="selectTea($event)">
            </hg-tealist>
        </aside>

        <aside id="sidebar" class="col h-100 px-0 collapse">
            <hg-tealist [stockedTeas]="stockedTeas"
                        [noLongerStockedTeas]="noLongerStockedTeas"
                        (selected)="selectTea($event)">
            </hg-tealist>
        </aside>

        <main class="col h-100 px-0">
            <div class="btn-group d-flex flex-row">
                <button type="button"
                        class="btn btn-dark btn-block rounded-0 flex-grow-1"
                        (click)="newTeas.push(newTeas.length)">
                    Create new tea...
                </button>
                <button *ngIf="selectedTeas.length > 0"
                        type="button"
                        class="btn btn-danger rounded-0"
                        (click)="selectedTeas.length = 0">
                    Clear
                </button>
            </div>
            <div class="card-deck p-1">
                <hg-tea-editor
                    *ngFor="let t of newTeas"
                    [teas]="teas"
                    (createdTea)="createTea(t, $event)"
                    (canceled)="removeTeaCreator(t)">
                </hg-tea-editor>

                <hg-tea-editor
                    *ngFor="let t of selectedTeas"
                    [tea]="t"
                    [teas]="teas"
                    (createdEntry)="createEntry(t, $event)"
                    (updatedEntry)="updateEntry(t, $event)"
                    (deletedEntry)="deleteEntry(t, $event)"
                    (updatedTea)="updateTea($event)"
                    (canceled)="unselectTea(t)">
                </hg-tea-editor>

                <hg-unrated
                    *ngFor="let e of unratedEntriesList"
                    [tea]="unratedEntries.get(e)"
                    [entry]="e"
                    (expand)="selectTea($event)"
                    (updated)="updateEntry(unratedEntries.get(e), $event)">
                </hg-unrated>

                <hg-tea-editor
                    *ngFor="let t of teasWithOpenSessions"
                    [tea]="t"
                    [teas]="teas"
                    [cancelable]="false"
                    (createdEntry)="createEntry(t, $event)"
                    (updatedEntry)="updateEntry(t, $event)"
                    (deletedEntry)="deleteEntry(t, $event)"
                    (updatedTea)="updateTea($event)">
                </hg-tea-editor>
            </div>
        </main>
    </div>
</div>
